#include <bits/stdc++.h>using namespace std;int main(){	ios::sync_with_stdio(0),cin.tie(0);	int n,k;	cin>>n>>k;	vector<int> v(n);	for(int i=0;i<n;i++) cin>>v[i];	map<int,int> mp;	int l=0,cnt=0;	long long ans=0;	for(int r=0;r<n;r++){		mp[v[r]]++;		if(mp[v[r]]==1){			cnt++;		}		while(cnt>k&&l<=r){			mp[v[l]]--;			if(mp[v[l]]==0) cnt--;			l++;		}		ans+=r-l+1;	}	cout << ans;}