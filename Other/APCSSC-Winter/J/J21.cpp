#include <bits/stdc++.h>using namespace std;int main(){	int n,m;	cin>>n>>m;	vector<int> diff(n+2,0);	for(int i=0;i<m;i++){		int l,r,w;		cin>>l>>r>>w;		diff[l]+=w;		diff[r+1]-=w;	}	vector<long long> cnt(n+1);	for(int i=1;i<=n;i++) cnt[i]=diff[i]+cnt[i-1];	sort(cnt.begin(),cnt.end(),greater());	priority_queue<int,vector<int>,greater<int>> pq;	for(int i=0;i<n;i++){		int t;		cin>>t;		pq.push(t);	}	long long ans=0;	for(auto &i:cnt){		ans+=i*pq.top();		pq.pop();	}	cout << ans;}