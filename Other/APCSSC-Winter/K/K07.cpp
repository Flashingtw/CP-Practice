#include <bits/stdc++.h>using namespace std;const int N = 200005;vector<int> adj[N];vector<int> res;bitset<N> vis;void dfs(int u,int p){	res.push_back(u);	for(int v:adj[u]){		if(vis[v]) continue;		vis[v]=1;		dfs(v,u);	}}int main(){	int n,m;	cin>>n>>m;	for(int i=0;i<m;i++){		int u,v;		cin>>u>>v;		adj[u].push_back(v);		adj[v].push_back(u);	}	int q;	cin>>q;	vis[q]=1;	dfs(q,0);	sort(res.begin(),res.end());	for(int i:res) cout << i << " ";}