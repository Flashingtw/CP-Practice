#include <bits/stdc++.h>using namespace std;typedef long long ll;int main(){	int n;	cin>>n;	vector<pair<ll,int>> v(n+1,{0,0});	vector<ll> prefix(n+1);	prefix[0]=0;	stack<int> st;	for(int i=1;i<=n;i++){		cin>>v[i].first;		v[i].second=i;		prefix[i]=prefix[i-1]+v[i].first;	}	sort(v.begin(),v.end());	int cur=1;	int l=1,r=n;	while(l<=r){		if(l==r) {			while(cur <= n && (v[cur].second < l || v[cur].second > r)) cur++;            cout << v[cur].first;            break;		}		while(cur <= n && (v[cur].second<l||v[cur].second>r))cur++;		int idx = v[cur].second;		ll left_sum = prefix[idx-1]-prefix[l-1];		ll right_sum = prefix[r]-prefix[idx];		if (right_sum>=left_sum) l=idx+1;		else r = idx-1;	}}