#include <bits/stdc++.h>using namespace std;typedef long long ll;int main(){	int n;	cin>>n;	vector<ll> v(n+1),prefix(n+1);	vector<vector<ll>> st(n+1,vector<ll>(20));	v[0]=0;	prefix[0]=0;	for(int i=1;i<=n;i++){		cin>>v[i];		prefix[i]=prefix[i-1]+v[i];		st[i][0]=i;	}	for(int k=1;k<20;k++){		for(int i=1;i+(1<<k)-1<=n;i++){			int idx1 = st[i][k-1];            int idx2 = st[i+(1<<(k-1))][k-1];            if(v[idx1] < v[idx2]) st[i][k] = idx1;            else st[i][k] = idx2;		}	}	int l=1,r=n;	while(l<=r){		if(l==r) break;		int k = __lg(r-l+1);        int idx1 = st[l][k];        int idx2 = st[r-(1<<k)+1][k];        int idx;        if(v[idx1] < v[idx2]) idx = idx1;        else idx = idx2;		ll left_sum = prefix[idx-1]-prefix[l-1];		ll right_sum = prefix[r]-prefix[idx];		if (right_sum>=left_sum) l=idx+1;		else r = idx-1;	}	cout << v[l];}