#include <bits/stdc++.h>using namespace std;int n,k,max_h;vector<int> h;vector<int> p;bool chk(int m){	//m:high of paper	int cur_p =0,cnt=0	;	for(int i=0;i<n;i++){		if (h[i] >= m) {            cnt++;            if (cnt == p[cur_p]) {                cur_p++;                cnt = 0;                if (cur_p == k) return true;            }		}		else cnt=0;	}	return cur_p==k;}int main(){	cin>>n>>k;	h.resize(n);	p.resize(k);	for(int i=0;i<n;i++) {        cin >> h[i];        max_h = max(max_h, h[i]);    }	for(int i=0;i<k;i++) cin>>p[i];	int ans=0;	for(int i=(1<<__lg(max_h));i>0;i>>=1){		if(chk(ans+i)) ans+=i;	}	cout << ans;}